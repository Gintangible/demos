!function(doc){var actUserId=0,url="//hd.2144.cn/",query={add:function(){var e="addEventListener"in document;return e?function(e,t,a){e.addEventListener(t,a,!1)}:function(e,t,a){e.attachEvent("on"+t,a)}}(),remove:function(){var e="addEventListener"in document;return e?function(e,t,a){e.removeEventListener(t,a,!1)}:function(e,t,a){e.detachEvent("on"+t,a)}}(),getEvent:function(e){return e||window.event},getTarget:function(e){var t=query.getEvent(e);return t.target||t.srcElement},preventDefault:function(e){var t=query.getEvent(e);t.preventDefault?t.preventDefault():t.returnValue=!1},stopPropagation:function(e){var t=query.getEvent(e);t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},addClass:function(e,t){e.classList?e.classList.add(t):-1==e.className.indexOf(t)&&(e.className+=" "+t)},removeClass:function(node,classname){if(node.classList)node.classList.remove(classname);else{var reg=eval("/\\s*"+classname+"/ig");node.className=node.className.replace(reg,"")}},getByClass:function(e,t){var t=t?t:document;return t.querySelectorAll?t.querySelectorAll("."+e):function(t){for(var t=t.getElementsByTagName("*"),a=[],n=new RegExp("\\b"+e+"\\b","i"),o=0;o<t.length;o++)n.test(t[o].className)&&a.push(t[o]);return a}(t)},toArray:function(e){var t=[];try{t=Array.prototype.slice.call(e,0)}catch(a){for(var n=0,o=e.length;o>n;n++)t[n]=e[n]}return t},forEach:function(){return function(e,t){if("function"==typeof e.forEach)e.forEach(function(a,n,o){t.call(e,a,n,o)});else for(var a=0,n=e.length;n>a;a++)t.call(e,e[a],a,e)}}()},packMove=function(){function e(e,o,r,s){r=r||{},r.duration=r.duration||2e3;var i={},c={};for(var u in o){i[u]="opacity"==u?n(e):parseInt(t(e,u)),c[u]=o[u]-i[u];var l=(o[u]-i[u])/r.duration;l=l>0?Math.ceil(l):Math.floor(l);var d=(new Date).getTime();!function(t){setTimeout(function(){var n=(new Date).getTime(),u=(n-d)/r.duration;"opacity"==t?a(e,i[t]/100+u*c[t]/100):e.style[t]=Math.ceil(i[t]+u*c[t])+"px",r.duration<=n-d?(e.style[t]=o[t]+"px",s&&s()):setTimeout(arguments.callee,25)},25)}(u)}}var t=function(e,t){if(/msie/i.test(navigator.userAgent)){t=t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()});var a=e.currentStyle[t];return"auto"==a&&(a="0px"),a}return document.defaultView.getComputedStyle(e,null).getPropertyValue(t)},a=function(e,t){return document.addEventListener?void(e.style.opacity=t):void(e.style.filter="alpha(opacity="+100*t+")")},n=function(e){var t;if(document.addEventListener)return t=e.style.opacity;var a=e.style.filter.match(/alpha\(opacity:(.*)\)/);return t=a?a[1]:100,t/100};return e}(),copyToClipboard=function(e){var t=e&&e.parentNode.getElementsByTagName("input")[0],a=t&&t.value;if(window.clipboardData)window.clipboardData.clearData(),window.clipboardData.setData("Text",a),alert("复制成功！");else try{t.select(),doc.execCommand("Copy"),alert("复制成功！")}catch(n){alert("请双击礼包码右键复制！")}},Popup=function(){var e=function(){var e=doc.createElement("div");return e.className="pop-mask",doc.body.appendChild(e)}(),t=function(t){var a="";if(t.msg&&(a='<div class="pop-tips">'+t.msg+"</div>"),t.code&&(a='<div class="lb-wrap"><input class="pop-txt" value="'+t.code+'" readonly><span class="copy-btn">复制</span></div>'),t._gameName&&(a='<div class="pop-desc">'+t._gameName+'</div><div class="pop-btns"><span class="enter-btn" v="695||'+t.index+'">立即领取</span><span class="vip-btn" v="696||'+t.index+'">VIP4额外领取</span></div>'),t.giftName&&(a='<div class="pop-tips">恭喜您获得<b>'+t.giftName+"</b>！</div>"),t.jl){var n="",o=t.jl,r=o.length,s=Math.ceil(r/7);s>1&&(n='<div class="_popup_btn"><i class="_popup_btn_pre">上一页</i><b>1</b>/<em>'+s+'</em><i class="_popup_btn_next">下一页</i></div><div class="pop_lxkf"><a href="http://kf.2144.cn/">联系客服</a></div>');for(var i=0;r>i;i++)0==o[i].type&&(a+="<li>"+o[i].name+'：<input class="pop-txt" value="'+o[i].code+'" readonly><span class="copy-btn">复制</span></li>'),1==o[i].type&&(a+="<li>恭喜获得<em>"+o[i].name+"</em></li>"),(i+1)%7==0&&r>i+1&&(a+='</ul><ul class="hidden">');a='<div class="lb-items"><ul>'+a+"</ul></div>"+n}e.innerHTML='<div class="pop-wrap"><div class="pop-title"><i class="pop-close"></i>'+t.title+"</div>"+a+"</div>",e.style.display="block",query.addClass(e,"_fadeIn");var c=query.getByClass("pop-wrap",e)[0];c.style.marginTop="-"+c.offsetHeight/2+"px"},a=function(){query.removeClass(e,"_fadeIn"),query.addClass(e,"_fadeOut"),setTimeout(function(){e.style.display="none",query.removeClass(e,"_fadeOut")},300)},n=function(t,a){a--,query.forEach(query.toArray(t.getElementsByTagName("ul")),function(e,t){e.style.display=a==t?"block":"none"});var n=query.getByClass("pop-wrap",e)[0];n.style.marginTop="-"+n.offsetHeight/2+"px"},o=function(e){var t=e.parentNode,a=t.getElementsByTagName("b")[0],o=a.innerHTML,r=t.getElementsByTagName("em")[0].innerHTML;o--,0==o&&(o=r),a.innerHTML=o,n(e.parentNode.parentNode,o)},r=function(e){var t=e.parentNode,a=t.getElementsByTagName("b")[0],o=a.innerHTML,r=t.getElementsByTagName("em")[0].innerHTML;o++,o>r&&(o=1),a.innerHTML=o,n(e.parentNode.parentNode,o)},s=function(e){var t=query.getTarget(e);return"pop-close"==t.className?void a():"enter-btn"==t.className||"vip-btn"==t.className?void OneActController.achieveGift(t):"copy-btn"==t.className?void copyToClipboard(t):"_popup_btn_pre"==t.className?void o(t):"_popup_btn_next"==t.className?void r(t):void 0};return query.add(e,"click",s),{show:t}}(),actInfo=function(){IO.jsonp(url+"actQuery/actInfo",{act_id:702},function(e){var t=query.getByClass("act-sub-step1");doc.getElementById("user-box").getElementsByTagName("span")[0].innerHTML=e.money,query.getByClass("act-sub-item")[0].getElementsByTagName("b")[0].innerHTML=e.score,t[1].getElementsByTagName("b")[0].innerHTML=e.score,t[2].getElementsByTagName("b")[0].innerHTML=e.score,query.getByClass("fixed-my")[0].innerHTML="现有积分："+e.score,TwoActController.achieveGift(e.moonCake)})},resetData=function(){query.getByClass("act-sub-item")[0].getElementsByTagName("b")[0].innerHTML=0,TwoActController.resetGift(),query.getByClass("fixed-my")[0].innerHTML=""},userController=function(){var e="//ptlogin.2144.cn/ptlogin",t=doc.getElementById("user-box"),a=function(){IO.jsonp(e+"/getuser",{t:Math.random()},function(e){return 0==e.isGuest?(actUserId=e.id,t.innerHTML='亲爱的<a href="http://my.2144.cn/">'+e.username+'</a>，欢迎来到2144，您已充值<span>0</span>元。<i class="act-logout">注销</i>',void actInfo()):void n()})},n=function(){actUserId&&IO.jsonp(e+"/ajaxlogout",function(e){callback(e)}),actUserId=0,t.innerHTML='您还没有登录哦~<i class="act-login-btn">登录</i>',resetData()},o=function(e){var t=query.getTarget(e);return"act-login-btn"==t.className?void _jsiframeShow(0):"act-reg-btn"==t.className?void _jsiframeShow(1):"act-logout"==t.className?void n():void 0};"undefined"!=typeof Login&&(Login.actLogin=function(){a()}),"undefined"!=typeof Logout&&(Logout.actLogout=function(){n()}),a(),query.add(doc.body,"click",o)}(),marqueeStart=function(e,t){var a=document.getElementById("marquee"+e),n=document.getElementById("marquee"+e+"_1"),o=document.getElementById("marquee"+e+"_2"),r=function(e,t){if("up"==t)if(e.s.offsetTop-e.o.scrollTop<=0)e.o.scrollTop-=e.n.offsetHeight+20;else{var a=e.o.scrollTop;e.o.scrollTop++,e.o.scrollTop==a&&(e.o.scrollTop=1)}else e.s.offsetWidth-e.o.scrollLeft<=0?e.o.scrollLeft-=e.n.offsetWidth:e.o.scrollLeft++};o.innerHTML=n.innerHTML;var s=window.setInterval(function(){r({o:a,n:n,s:o},t)},30);a.onmouseover=function(){window.clearInterval(s)},a.onmouseout=function(){s=window.setInterval(function(){r({o:a,n:n,s:o},t)},30)}},OneActController=function(){var e=query.getByClass("act-hotGame")[0],t=e.getElementsByTagName("ul")[0],a=t.getElementsByTagName("li"),n=3,o=0,r=a[0].offsetWidth+26,s=function(){var e=arguments.callee;e.state||(e.state=!0,packMove(t,{left:-o*r},{duration:300},function(){e.state=!1}))},i=function(e){for(var t=query.getByClass("extend-img",e.parentNode.parentNode),a=0,n=t.length;n>a;a++)if(t[a]==e){Popup.show({title:"2144双节礼包",_gameName:e.alt,index:a});break}},c=function(e){var t=e.getAttribute("v").split("||");e.state||(e.state=!0,IO.jsonp(url+"actCommon/getCardRepeat",{act_id:t[0],id:t[1]},function(t){return e.state=!1,0==t.status?void Popup.show({title:"激活码领取",code:t.code}):void Popup.show({title:"温馨提示",msg:t.msg})}))},u=function(e){var t=query.getTarget(e);if("next-btn"==t.className){if(o>n)return;return o++,void s()}if("perv-btn"==t.className){if(0==o)return;return o--,void s()}return"img"==t.nodeName.toLowerCase()&&t.className.indexOf("extend-img")>-1?actUserId?void i(t):void _jsiframeShow(0):void 0},l=function(e){query.forEach(query.toArray(e.parentNode.children),function(t){t.className=t==e?"cur":""})},d=function(e){var t=query.getTarget(e);return"li"==t.nodeName.toLowerCase()?void l(t):"normal"==t.className?void l(t.parentNode):"logo-wrap"==t.className?void l(t.parentNode):"img"==t.nodeName.toLowerCase()&&"logo-wrap"==t.parentNode.className?void l(t.parentNode.parentNode):void 0};return query.add(doc.body,"click",u),query.add(e,"mouseover",d),{achieveGift:c}}(),TwoActController=function(){var e=query.getByClass("moonCake-item")[0],t=e.children,a=(function(){var e="",t=doc.getElementById("marquee182_1");IO.jsonp(url+"actQuery/actlog",{act_id:697,user_log:0},function(a){0==a.status&&(query.forEach(a.data,function(t){e+="<li>"+t.username+"领取了"+t.name+"</li>"}),t.innerHTML=e,t.offsetHeight>t.parentNode.offsetHeight&&marqueeStart(182,"up"))})}(),function(e){query.forEach(e,function(e,a){e&&query.addClass(t[a],"cur")})}),n=function(e){var t=0,a=e.parentNode.children,n=a.length,o=0;if(!e.state){for(;n>t;t++)if(a[t]==e){o=t;break}e.state=!0,IO.jsonp(url+"actCommon/standardLottery",{act_id:697,place_id:o},function(t){return e.state=!1,0==t.status?(Popup.show({title:"中奖提示",giftName:t.name}),void query.addClass(e,"cur")):(Popup.show({title:"温馨提示",msg:t.msg}),void actInfo())})}},o=function(){query.forEach(query.toArray(t),function(e){query.removeClass(e,"cur")})},r=function(e){var t=query.getTarget(e);if("moonCake-btn"==t.className){if(t.parentNode.className.indexOf("cur")>-1)return;return actUserId?void n(t.parentNode):void _jsiframeShow(0)}};return query.add(e,"click",r),{achieveGift:a,resetGift:o}}(),ThreeActController=function(){var e=query.getByClass("draw-main")[0],t=0,a=(function(){var e="",t=doc.getElementById("marquee183_1");IO.jsonp(url+"actQuery/actlog",{act_id:702,user_log:0},function(a){0==a.status&&(query.forEach(a.data,function(t){e+="<li>"+t.username+"领取了"+t.name+"</li>"}),t.innerHTML=e,t.offsetHeight>t.parentNode.offsetHeight&&marqueeStart(183,"up"))})}(),function(e){query.forEach(query.toArray(e.parentNode.getElementsByTagName("i")),function(t){t==e?query.addClass(t,"cur"):query.removeClass(t,"cur")})}),n=function(t,a){query.forEach(query.toArray(query.getByClass("draw-item",e)),function(e,n){var o=t.data[n],r=query.getByClass("item-con",e)[0],s=query.getByClass("draw-con-item",e),i=s.length,c=s[o+(i-7)].offsetTop;setTimeout(function(){r.style.top=0,packMove(r,{top:-c},{duration:300},function(){n==t.data.length-1&&(0==t.status&&Popup.show({title:"中奖提示",giftName:t.msg}),-2==t.status&&Popup.show({title:"温馨提示",msg:t.msg}),actInfo(),a.state=!1)})},100*n)})},o=function(e){e.state||(e.state=!0,IO.jsonp(url+"actCommon/slotLottery",{act_id:t},function(t){0==t.status||-2==t.status?n(t,e):(Popup.show({title:"温馨提示",msg:t.msg}),e.state=!1)}))},r=function(e){var n=query.getTarget(e);return"i"==n.nodeName.toLowerCase()&&n.className.indexOf("integral")>-1?(t=n.getAttribute("v"),void a(n)):"draw-lottery"==n.className?actUserId?t?void o(n):void Popup.show({title:"温馨提示",msg:"好汉！请先押注！"}):void _jsiframeShow(0):void 0};query.add(e,"click",r)}(),FourActController=function(){var e=query.getByClass("act-integral")[0],t=function(e){var t=0,a=e.parentNode,o=a.parentNode.children,r=o.length,s=0;if(!e.state){for(;r>t;t++)if(o[t]==a){s=t;break}e.state=!0,IO.jsonp(url+"actCommon/getCardRepeat",{act_id:701,id:s},function(t){return e.state=!1,0==t.status?(Popup.show({title:"中奖提示",giftName:t.name}),n(),void actInfo()):void Popup.show({title:"温馨提示",msg:t.msg})})}},a=function(t){var a=e.getElementsByTagName("em");query.forEach(t,function(e,t){a[t].innerHTML=e})},n=function(){IO.jsonp(url+"actQuery/actInfo",{act_id:701},function(e){0==e.status&&a(e.rewardNum)})},o=function(e){var a=query.getTarget(e);return"exchange-btn"==a.className?actUserId?void t(a):void _jsiframeShow(0):void 0};n(),query.add(e,"click",o)}(),fixedFun=function(){var e=function(){var e=doc.createElement("div");return e.className="fixedNav",e.innerHTML='<span class="fixed-my"></span><a href="#act-step1" v="act-step1" target="_self" class="fix-nav1" >精品游戏迎国庆</a><a href="#act-step2" v="act-step2" target="_self" class="fix-nav2">月饼盛宴出惊喜</a><a href="#act-step3"  v="act-step3" target="_self" class="fix-nav3">国庆拉霸转豪礼</a><a href="#act-step4" v="act-step4"  target="_self" class="fix-nav4">玩转积分兑好礼</a><span class="fixed-top">返回顶部</span>',doc.body.appendChild(e)}(),t=function(e){e.state||(e.state=!0,IO.jsonp(url+"actQuery/actLog",{act_id:"695,696,697,701,702"},function(t){return e.state=!1,0==t.status?t.data.length?void Popup.show({title:"我的礼包",jl:t.data}):void Popup.show({title:"温馨提示",msg:"您还没有奖品记录，赶快去领取吧~~~"}):void Popup.show({title:"温馨提示",msg:t.msg})}))},a=query.getByClass("act-step1")[0].offsetTop,n=function(){var t=doc.documentElement.scrollTop||doc.body.scrollTop;t>a?-1==e.className.indexOf("cur")&&query.addClass(e,"cur"):e.className.indexOf("cur")>-1&&query.removeClass(e,"cur")},o=function(e,t){var a=33,n=e-a,o=function(){return n>a?(window.scrollTo(0,n),void(n-=a)):(clearInterval(r),void(t?window.scrollTo(0,0):window.scrollTo(0,e)))},r=setInterval(o,1)},r=function(e){var a=query.getTarget(e);return"fixed-top"==a.className?void o(doc.documentElement.scrollTop||doc.body.scrollTop,!0):"fixed-my"==a.className?actUserId?void t(a):void _jsiframeShow(0):"a"==a.nodeName.toLowerCase()?(query.preventDefault(e),void o(doc.getElementById(a.getAttribute("v")).offsetTop)):void 0};n(),query.add(e,"click",r),query.add(window,"scroll",n)}(),lazyLoad=function(){function e(){d="BackCompat"==u.compatMode?l:u.documentElement}function t(){for(var e=u.getElementsByTagName(f),t=0,a=e.length;a>t;t++)"object"==typeof e[t]&&e[t].getAttribute(p)&&s.push(e[t]);for(var o=0,c=s.length;c>o;o++){var l=s[o],d=n(l);if(r[d])r[d].push(o);else{var m=[];m[0]=o,r[d]=m,i++}}}function a(){if(i){var e=l.scrollTop;0==e&&(e=u.documentElement.scrollTop);var t=e+d.clientHeight;if(c==t)return void setTimeout(a,200);c=t;var n=d.clientHeight+m,o=n+e,f=0;for(var v in r)if(o>v){for(var g=r[v],y=g.length,h=0;y>h;h++)s[g[h]].src=s[g[h]].getAttribute(p),s[g[h]].removeAttribute(p),f++;delete r[v],i--}setTimeout(a,200)}}function n(e){if(1!=arguments.length||null==e)return null;for(var t=e.offsetTop,a=e.offsetParent;null!==a;)t+=a.offsetTop,a=a.offsetParent;return t}function o(){e(),t(),a()}var r={},s=[],i=0,c=-1,u=document,l=u.body,d=null,f="img",p="a",m=400;o()}()}(document);